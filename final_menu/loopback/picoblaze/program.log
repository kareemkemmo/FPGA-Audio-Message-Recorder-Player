KCPSM6 Assembler log file for program 'Z:\Volumes\ise\FINAL ATTEMPTS\lab6 copy\loopback\picoblaze\program.psm'.
Generated by KCPSM6 version v2.70
Ken Chapman - Xilinx Ltd - 16th May 2014

Assembly datestamp: 08 May 2025
Assembly timestamp: 19:06:47

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 2FB hex
Nominal program memory size: 1K (1024)   address(9:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 764
Memory locations available: 3332


Assembly listing

 Addr Code                       Instruction

 000                             ;================================================================
 000                             ;  PicoBlaze UART Text-Menu  •  Audio Message Recorder  (UI only)
 000                             ;  KCPSM-compliant – no inline ':' separators – ready to assemble
 000                             ;================================================================
 000                             ;---------------- PORT MAP ----------------------------------------------------
 000                             CONSTANT switches, 00
 000                             CONSTANT leds, 01
 000                             CONSTANT uart_data_rx, 02
 000                             CONSTANT uart_data_tx, 03
 000                             CONSTANT data_present, 04
 000                             CONSTANT buffer_full, 05
 000                             ;---------------- ASCII CONSTANTS ---------------------------------------------
 000                             CONSTANT ascii_NUL, 00
 000                             CONSTANT ascii_CR, 0D
 000                             CONSTANT ascii_LF, 0A
 000                             CONSTANT ascii_ESC, 1B
 000                             CONSTANT ascii_SPACE, 20
 000                             CONSTANT ascii_EXCLAIM, 21
 000                             CONSTANT ascii_ASTERISK, 2A
 000                             CONSTANT ascii_PLUS, 2B
 000                             CONSTANT ascii_MINUS, 2D
 000                             CONSTANT ascii_PERIOD, 2E
 000                             CONSTANT ascii_FWDSLASH, 2F
 000                             CONSTANT ascii_COLON, 3A
 000                             CONSTANT ascii_QUESTION, 3F
 000                             CONSTANT ascii_0, 30
 000                             CONSTANT ascii_1, 31
 000                             CONSTANT ascii_2, 32
 000                             CONSTANT ascii_3, 33
 000                             CONSTANT ascii_4, 34
 000                             CONSTANT ascii_5, 35
 000                             CONSTANT ascii_A, 41
 000                             CONSTANT ascii_B, 42
 000                             CONSTANT ascii_C, 43
 000                             CONSTANT ascii_D, 44
 000                             CONSTANT ascii_E, 45
 000                             CONSTANT ascii_F, 46
 000                             CONSTANT ascii_G, 47
 000                             CONSTANT ascii_H, 48
 000                             CONSTANT ascii_I, 49
 000                             CONSTANT ascii_J, 4A
 000                             CONSTANT ascii_K, 4B
 000                             CONSTANT ascii_L, 4C
 000                             CONSTANT ascii_M, 4D
 000                             CONSTANT ascii_N, 4E
 000                             CONSTANT ascii_O, 4F
 000                             CONSTANT ascii_P, 50
 000                             CONSTANT ascii_Q, 51
 000                             CONSTANT ascii_R, 52
 000                             CONSTANT ascii_S, 53
 000                             CONSTANT ascii_T, 54
 000                             CONSTANT ascii_U, 55
 000                             CONSTANT ascii_V, 56
 000                             CONSTANT ascii_W, 57
 000                             CONSTANT ascii_X, 58
 000                             CONSTANT ascii_Y, 59
 000                             CONSTANT ascii_Z, 5A
 000                             CONSTANT ascii_LBKT, 5B          ; “[”
 000                             CONSTANT ascii_RBKT, 5C
 000                             ;  lower-case a–z -------------------------------------------------------------
 000                             CONSTANT ascii_a, 61
 000                             CONSTANT ascii_b, 62
 000                             CONSTANT ascii_c, 63
 000                             CONSTANT ascii_d, 64
 000                             CONSTANT ascii_e, 65
 000                             CONSTANT ascii_f, 66
 000                             CONSTANT ascii_g, 67
 000                             CONSTANT ascii_h, 68
 000                             CONSTANT ascii_i, 69
 000                             CONSTANT ascii_j, 6A
 000                             CONSTANT ascii_k, 6B
 000                             CONSTANT ascii_l, 6C
 000                             CONSTANT ascii_m, 6D
 000                             CONSTANT ascii_n, 6E
 000                             CONSTANT ascii_o, 6F
 000                             CONSTANT ascii_p, 70
 000                             CONSTANT ascii_q, 71
 000                             CONSTANT ascii_r, 72
 000                             CONSTANT ascii_s, 73
 000                             CONSTANT ascii_t, 74
 000                             CONSTANT ascii_u, 75
 000                             CONSTANT ascii_v, 76
 000                             CONSTANT ascii_w, 77
 000                             CONSTANT ascii_x, 78
 000                             CONSTANT ascii_y, 79
 000                             CONSTANT ascii_z, 7A
 000                             CONSTANT ascii_lc_after_z, 7B
 000                             ;---------------- FSM STATE CODES ---------------------------------------------
 000                             CONSTANT st_MAIN, 00
 000                             CONSTANT st_PLAY, 01
 000                             CONSTANT st_RECORDING, 02
 000                             CONSTANT st_DELETE, 03
 000                             CONSTANT st_CONFIRM_ALL, 04
 000                             CONSTANT st_VOLUME, 05
 000                             CONSTANT st_PLAYBACK, 06
 000                             ;================================================================
 000                             ;  ENTRY
 000                             ;================================================================
 000                             ;ORG     0
 000  2008D               start: CALL 08D[show_main_menu]
 001  01000                      LOAD s0, 00[st_MAIN]
 002  20004           main_loop: CALL 004[uart_poll]
 003  22002                      JUMP 002[main_loop]
 004                             ;================================================================
 004                             ;  UART POLLING + DISPATCH
 004                             ;================================================================
 004                  uart_poll: 
 004  09204                      INPUT s2, 04[data_present]
 005  0D201                      TEST s2, 01
 006  3201C                      JUMP Z, 01C[uart_done]
 007  09302                      INPUT s3, 02[uart_data_rx]
 008  20073                      CALL 073[echo_char]
 009                             ;  upper-case conversion
 009  1D361                      COMPARE s3, 61[ascii_a]
 00A  3A00E                      JUMP C, 00E[dispatch]
 00B  1D37B                      COMPARE s3, 7B[ascii_lc_after_z]
 00C  3E00E                      JUMP NC, 00E[dispatch]
 00D  19320                      SUB s3, 20
 00E                   dispatch: 
 00E  1D000                      COMPARE s0, 00[st_MAIN]
 00F  3201D                      JUMP Z, 01D[main_state]
 010  1D001                      COMPARE s0, 01[st_PLAY]
 011  32037                      JUMP Z, 037[play_state]
 012  1D002                      COMPARE s0, 02[st_RECORDING]
 013  3204A                      JUMP Z, 04A[rec_state]
 014  1D003                      COMPARE s0, 03[st_DELETE]
 015  32050                      JUMP Z, 050[del_state]
 016  1D004                      COMPARE s0, 04[st_CONFIRM_ALL]
 017  32060                      JUMP Z, 060[conf_state]
 018  1D005                      COMPARE s0, 05[st_VOLUME]
 019  32069                      JUMP Z, 069[vol_state]
 01A  1D006                      COMPARE s0, 06[st_PLAYBACK]
 01B  322E9                      JUMP Z, 2E9[playback_state]
 01C                  uart_done: 
 01C  25000                      RETURN 
 01D                             ;================================================================
 01D                             ;  MAIN MENU
 01D                             ;================================================================
 01D                 main_state: 
 01D  1D331                      COMPARE s3, 31[ascii_1]
 01E  32028                      JUMP Z, 028[go_play]
 01F  1D332                      COMPARE s3, 32[ascii_2]
 020  3202B                      JUMP Z, 02B[go_record]
 021  1D333                      COMPARE s3, 33[ascii_3]
 022  3202E                      JUMP Z, 02E[go_delete]
 023  1D334                      COMPARE s3, 34[ascii_4]
 024  32031                      JUMP Z, 031[go_delall]
 025  1D335                      COMPARE s3, 35[ascii_5]
 026  32034                      JUMP Z, 034[go_volume]
 027  25000                      RETURN 
 028                    go_play: 
 028  01001                      LOAD s0, 01[st_PLAY]
 029  201B2                      CALL 1B2[show_play_menu]
 02A  25000                      RETURN 
 02B                  go_record: 
 02B  01002                      LOAD s0, 02[st_RECORDING]
 02C  201EF                      CALL 1EF[show_record_screen]
 02D  25000                      RETURN 
 02E                  go_delete: 
 02E  01003                      LOAD s0, 03[st_DELETE]
 02F  2022C                      CALL 22C[show_delete_menu]
 030  25000                      RETURN 
 031                  go_delall: 
 031  01004                      LOAD s0, 04[st_CONFIRM_ALL]
 032  20263                      CALL 263[show_confirm_all]
 033  25000                      RETURN 
 034                  go_volume: 
 034  01005                      LOAD s0, 05[st_VOLUME]
 035  20288                      CALL 288[show_volume_menu]
 036  25000                      RETURN 
 037                             ;================================================================
 037                             ;  PLAY MENU
 037                             ;================================================================
 037                 play_state: 
 037  1D342                      COMPARE s3, 42[ascii_B]
 038  32047                      JUMP Z, 047[play_back]
 039  1D331                      COMPARE s3, 31[ascii_1]
 03A  32044                      JUMP Z, 044[play_enter_msg]
 03B  1D332                      COMPARE s3, 32[ascii_2]
 03C  32044                      JUMP Z, 044[play_enter_msg]
 03D  1D333                      COMPARE s3, 33[ascii_3]
 03E  32044                      JUMP Z, 044[play_enter_msg]
 03F  1D334                      COMPARE s3, 34[ascii_4]
 040  32044                      JUMP Z, 044[play_enter_msg]
 041  1D335                      COMPARE s3, 35[ascii_5]
 042  32044                      JUMP Z, 044[play_enter_msg]
 043  25000                      RETURN 
 044             play_enter_msg: 
 044  01006                      LOAD s0, 06[st_PLAYBACK]
 045  202AC                      CALL 2AC[show_play_controls]
 046  25000                      RETURN 
 047                  play_back: 
 047  01000                      LOAD s0, 00[st_MAIN]
 048  2008D                      CALL 08D[show_main_menu]
 049  25000                      RETURN 
 04A                             ;================================================================
 04A                             ;  RECORDING
 04A                             ;================================================================
 04A                  rec_state: 
 04A  1D353                      COMPARE s3, 53[ascii_S]
 04B  3204D                      JUMP Z, 04D[rec_stop]
 04C  25000                      RETURN 
 04D                   rec_stop: 
 04D  01000                      LOAD s0, 00[st_MAIN]
 04E  2008D                      CALL 08D[show_main_menu]
 04F  25000                      RETURN 
 050                             ;================================================================
 050                             ;  DELETE MENU
 050                             ;================================================================
 050                  del_state: 
 050  1D342                      COMPARE s3, 42[ascii_B]
 051  3205D                      JUMP Z, 05D[del_back]
 052  1D331                      COMPARE s3, 31[ascii_1]
 053  3205D                      JUMP Z, 05D[del_back]
 054  1D332                      COMPARE s3, 32[ascii_2]
 055  3205D                      JUMP Z, 05D[del_back]
 056  1D333                      COMPARE s3, 33[ascii_3]
 057  3205D                      JUMP Z, 05D[del_back]
 058  1D334                      COMPARE s3, 34[ascii_4]
 059  3205D                      JUMP Z, 05D[del_back]
 05A  1D335                      COMPARE s3, 35[ascii_5]
 05B  3205D                      JUMP Z, 05D[del_back]
 05C  25000                      RETURN 
 05D                   del_back: 
 05D  01000                      LOAD s0, 00[st_MAIN]
 05E  2008D                      CALL 08D[show_main_menu]
 05F  25000                      RETURN 
 060                             ;================================================================
 060                             ;  DELETE-ALL CONFIRM
 060                             ;================================================================
 060                 conf_state: 
 060  1D359                      COMPARE s3, 59[ascii_Y]
 061  32065                      JUMP Z, 065[conf_yes]
 062  1D34E                      COMPARE s3, 4E[ascii_N]
 063  32066                      JUMP Z, 066[conf_no]
 064  25000                      RETURN 
 065                   conf_yes: 
 065  202F7                      CALL 2F7[stub_del_all]
 066                    conf_no: 
 066  01000                      LOAD s0, 00[st_MAIN]
 067  2008D                      CALL 08D[show_main_menu]
 068  25000                      RETURN 
 069                             ;================================================================
 069                             ;  VOLUME MENU
 069                             ;================================================================
 069                  vol_state: 
 069  1D355                      COMPARE s3, 55[ascii_U]
 06A  322F8                      JUMP Z, 2F8[stub_vol_up]
 06B  1D344                      COMPARE s3, 44[ascii_D]
 06C  322F9                      JUMP Z, 2F9[stub_vol_dn]
 06D  1D342                      COMPARE s3, 42[ascii_B]
 06E  32070                      JUMP Z, 070[vol_back]
 06F  25000                      RETURN 
 070                   vol_back: 
 070  01000                      LOAD s0, 00[st_MAIN]
 071  2008D                      CALL 08D[show_main_menu]
 072  25000                      RETURN 
 073                             ;================================================================
 073                             ;  UART UTILITIES
 073                             ;================================================================
 073                  echo_char: 
 073  00130                      LOAD s1, s3
 074             send_char_wait: 
 074  09205                      INPUT s2, 05[buffer_full]
 075  0D201                      TEST s2, 01
 076  36074                      JUMP NZ, 074[send_char_wait]
 077  2D103                      OUTPUT s1, 03[uart_data_tx]
 078  25000                      RETURN 
 079                  send_crlf: 
 079  0110D                      LOAD s1, 0D[ascii_CR]
 07A  20074                      CALL 074[send_char_wait]
 07B  0110A                      LOAD s1, 0A[ascii_LF]
 07C  20074                      CALL 074[send_char_wait]
 07D  25000                      RETURN 
 07E                             ;---- VT100 clear screen ------------------------------------------------------
 07E                   cls_term: 
 07E  0111B                      LOAD s1, 1B[ascii_ESC]
 07F  20074                      CALL 074[send_char_wait]
 080  0115B                      LOAD s1, 5B[ascii_LBKT]
 081  20074                      CALL 074[send_char_wait]
 082  01132                      LOAD s1, 32[ascii_2]
 083  20074                      CALL 074[send_char_wait]
 084  0114A                      LOAD s1, 4A[ascii_J]
 085  20074                      CALL 074[send_char_wait]
 086  0111B                      LOAD s1, 1B[ascii_ESC]
 087  20074                      CALL 074[send_char_wait]
 088  0115B                      LOAD s1, 5B[ascii_LBKT]
 089  20074                      CALL 074[send_char_wait]
 08A  01148                      LOAD s1, 48[ascii_H]
 08B  20074                      CALL 074[send_char_wait]
 08C  25000                      RETURN 
 08D                             ;================================================================
 08D                             ;  SCREEN DRAW ROUTINES  (all newline-separated LOAD/CALL pairs)
 08D                             ;================================================================
 08D             show_main_menu: 
 08D  2007E                      CALL 07E[cls_term]
 08E                             ; "Welcome to the Audio Recorder!"
 08E  01157                      LOAD s1, 57[ascii_W]             ; W
 08F  20074                      CALL 074[send_char_wait]
 090  01165                      LOAD s1, 65[ascii_e]             ; e
 091  20074                      CALL 074[send_char_wait]
 092  0116C                      LOAD s1, 6C[ascii_l]
 093  20074                      CALL 074[send_char_wait]
 094  01163                      LOAD s1, 63[ascii_c]
 095  20074                      CALL 074[send_char_wait]
 096  0116F                      LOAD s1, 6F[ascii_o]
 097  20074                      CALL 074[send_char_wait]
 098  0116D                      LOAD s1, 6D[ascii_m]
 099  20074                      CALL 074[send_char_wait]
 09A  01165                      LOAD s1, 65[ascii_e]
 09B  20074                      CALL 074[send_char_wait]
 09C  01120                      LOAD s1, 20[ascii_SPACE]
 09D  20074                      CALL 074[send_char_wait]
 09E  01174                      LOAD s1, 74[ascii_t]
 09F  20074                      CALL 074[send_char_wait]
 0A0  0116F                      LOAD s1, 6F[ascii_o]
 0A1  20074                      CALL 074[send_char_wait]
 0A2  01120                      LOAD s1, 20[ascii_SPACE]
 0A3  20074                      CALL 074[send_char_wait]
 0A4  01174                      LOAD s1, 74[ascii_t]
 0A5  20074                      CALL 074[send_char_wait]
 0A6  01168                      LOAD s1, 68[ascii_h]
 0A7  20074                      CALL 074[send_char_wait]
 0A8  01165                      LOAD s1, 65[ascii_e]
 0A9  20074                      CALL 074[send_char_wait]
 0AA  01120                      LOAD s1, 20[ascii_SPACE]
 0AB  20074                      CALL 074[send_char_wait]
 0AC  01141                      LOAD s1, 41[ascii_A]
 0AD  20074                      CALL 074[send_char_wait]
 0AE  01175                      LOAD s1, 75[ascii_u]
 0AF  20074                      CALL 074[send_char_wait]
 0B0  01164                      LOAD s1, 64[ascii_d]
 0B1  20074                      CALL 074[send_char_wait]
 0B2  01169                      LOAD s1, 69[ascii_i]
 0B3  20074                      CALL 074[send_char_wait]
 0B4  0116F                      LOAD s1, 6F[ascii_o]
 0B5  20074                      CALL 074[send_char_wait]
 0B6  01120                      LOAD s1, 20[ascii_SPACE]
 0B7  20074                      CALL 074[send_char_wait]
 0B8  01152                      LOAD s1, 52[ascii_R]
 0B9  20074                      CALL 074[send_char_wait]
 0BA  01165                      LOAD s1, 65[ascii_e]
 0BB  20074                      CALL 074[send_char_wait]
 0BC  01163                      LOAD s1, 63[ascii_c]
 0BD  20074                      CALL 074[send_char_wait]
 0BE  0116F                      LOAD s1, 6F[ascii_o]
 0BF  20074                      CALL 074[send_char_wait]
 0C0  01172                      LOAD s1, 72[ascii_r]
 0C1  20074                      CALL 074[send_char_wait]
 0C2  01164                      LOAD s1, 64[ascii_d]
 0C3  20074                      CALL 074[send_char_wait]
 0C4  01165                      LOAD s1, 65[ascii_e]
 0C5  20074                      CALL 074[send_char_wait]
 0C6  01172                      LOAD s1, 72[ascii_r]
 0C7  20074                      CALL 074[send_char_wait]
 0C8  01121                      LOAD s1, 21[ascii_EXCLAIM]
 0C9  20074                      CALL 074[send_char_wait]
 0CA  20079                      CALL 079[send_crlf]
 0CB                             ; "Select an option:"
 0CB  01153                      LOAD s1, 53[ascii_S]
 0CC  20074                      CALL 074[send_char_wait]
 0CD  01165                      LOAD s1, 65[ascii_e]
 0CE  20074                      CALL 074[send_char_wait]
 0CF  0116C                      LOAD s1, 6C[ascii_l]
 0D0  20074                      CALL 074[send_char_wait]
 0D1  01165                      LOAD s1, 65[ascii_e]
 0D2  20074                      CALL 074[send_char_wait]
 0D3  01163                      LOAD s1, 63[ascii_c]
 0D4  20074                      CALL 074[send_char_wait]
 0D5  01174                      LOAD s1, 74[ascii_t]
 0D6  20074                      CALL 074[send_char_wait]
 0D7  01120                      LOAD s1, 20[ascii_SPACE]
 0D8  20074                      CALL 074[send_char_wait]
 0D9  01161                      LOAD s1, 61[ascii_a]
 0DA  20074                      CALL 074[send_char_wait]
 0DB  0116E                      LOAD s1, 6E[ascii_n]
 0DC  20074                      CALL 074[send_char_wait]
 0DD  01120                      LOAD s1, 20[ascii_SPACE]
 0DE  20074                      CALL 074[send_char_wait]
 0DF  0116F                      LOAD s1, 6F[ascii_o]
 0E0  20074                      CALL 074[send_char_wait]
 0E1  01170                      LOAD s1, 70[ascii_p]
 0E2  20074                      CALL 074[send_char_wait]
 0E3  01174                      LOAD s1, 74[ascii_t]
 0E4  20074                      CALL 074[send_char_wait]
 0E5  01169                      LOAD s1, 69[ascii_i]
 0E6  20074                      CALL 074[send_char_wait]
 0E7  0116F                      LOAD s1, 6F[ascii_o]
 0E8  20074                      CALL 074[send_char_wait]
 0E9  0116E                      LOAD s1, 6E[ascii_n]
 0EA  20074                      CALL 074[send_char_wait]
 0EB  0113A                      LOAD s1, 3A[ascii_COLON]
 0EC  20074                      CALL 074[send_char_wait]
 0ED  20079                      CALL 079[send_crlf]
 0EE  20079                      CALL 079[send_crlf]
 0EF                             ; "1. Play a message"
 0EF  01131                      LOAD s1, 31[ascii_1]
 0F0  20074                      CALL 074[send_char_wait]
 0F1  0112E                      LOAD s1, 2E[ascii_PERIOD]
 0F2  20074                      CALL 074[send_char_wait]
 0F3  01120                      LOAD s1, 20[ascii_SPACE]
 0F4  20074                      CALL 074[send_char_wait]
 0F5  01150                      LOAD s1, 50[ascii_P]
 0F6  20074                      CALL 074[send_char_wait]
 0F7  0116C                      LOAD s1, 6C[ascii_l]
 0F8  20074                      CALL 074[send_char_wait]
 0F9  01161                      LOAD s1, 61[ascii_a]
 0FA  20074                      CALL 074[send_char_wait]
 0FB  01179                      LOAD s1, 79[ascii_y]
 0FC  20074                      CALL 074[send_char_wait]
 0FD  01120                      LOAD s1, 20[ascii_SPACE]
 0FE  20074                      CALL 074[send_char_wait]
 0FF  01161                      LOAD s1, 61[ascii_a]
 100  20074                      CALL 074[send_char_wait]
 101  01120                      LOAD s1, 20[ascii_SPACE]
 102  20074                      CALL 074[send_char_wait]
 103  0116D                      LOAD s1, 6D[ascii_m]
 104  20074                      CALL 074[send_char_wait]
 105  01165                      LOAD s1, 65[ascii_e]
 106  20074                      CALL 074[send_char_wait]
 107  01173                      LOAD s1, 73[ascii_s]
 108  20074                      CALL 074[send_char_wait]
 109  01173                      LOAD s1, 73[ascii_s]
 10A  20074                      CALL 074[send_char_wait]
 10B  01161                      LOAD s1, 61[ascii_a]
 10C  20074                      CALL 074[send_char_wait]
 10D  01167                      LOAD s1, 67[ascii_g]
 10E  20074                      CALL 074[send_char_wait]
 10F  01165                      LOAD s1, 65[ascii_e]
 110  20074                      CALL 074[send_char_wait]
 111  20079                      CALL 079[send_crlf]
 112                             ; "2. Record a message"
 112  01132                      LOAD s1, 32[ascii_2]
 113  20074                      CALL 074[send_char_wait]
 114  0112E                      LOAD s1, 2E[ascii_PERIOD]
 115  20074                      CALL 074[send_char_wait]
 116  01120                      LOAD s1, 20[ascii_SPACE]
 117  20074                      CALL 074[send_char_wait]
 118  01152                      LOAD s1, 52[ascii_R]
 119  20074                      CALL 074[send_char_wait]
 11A  01165                      LOAD s1, 65[ascii_e]
 11B  20074                      CALL 074[send_char_wait]
 11C  01163                      LOAD s1, 63[ascii_c]
 11D  20074                      CALL 074[send_char_wait]
 11E  0116F                      LOAD s1, 6F[ascii_o]
 11F  20074                      CALL 074[send_char_wait]
 120  01172                      LOAD s1, 72[ascii_r]
 121  20074                      CALL 074[send_char_wait]
 122  01164                      LOAD s1, 64[ascii_d]
 123  20074                      CALL 074[send_char_wait]
 124  01120                      LOAD s1, 20[ascii_SPACE]
 125  20074                      CALL 074[send_char_wait]
 126  01161                      LOAD s1, 61[ascii_a]
 127  20074                      CALL 074[send_char_wait]
 128  01120                      LOAD s1, 20[ascii_SPACE]
 129  20074                      CALL 074[send_char_wait]
 12A  0116D                      LOAD s1, 6D[ascii_m]
 12B  20074                      CALL 074[send_char_wait]
 12C  01165                      LOAD s1, 65[ascii_e]
 12D  20074                      CALL 074[send_char_wait]
 12E  01173                      LOAD s1, 73[ascii_s]
 12F  20074                      CALL 074[send_char_wait]
 130  01173                      LOAD s1, 73[ascii_s]
 131  20074                      CALL 074[send_char_wait]
 132  01161                      LOAD s1, 61[ascii_a]
 133  20074                      CALL 074[send_char_wait]
 134  01167                      LOAD s1, 67[ascii_g]
 135  20074                      CALL 074[send_char_wait]
 136  01165                      LOAD s1, 65[ascii_e]
 137  20074                      CALL 074[send_char_wait]
 138  20079                      CALL 079[send_crlf]
 139                             ; "3. Delete a message"
 139  01133                      LOAD s1, 33[ascii_3]
 13A  20074                      CALL 074[send_char_wait]
 13B  0112E                      LOAD s1, 2E[ascii_PERIOD]
 13C  20074                      CALL 074[send_char_wait]
 13D  01120                      LOAD s1, 20[ascii_SPACE]
 13E  20074                      CALL 074[send_char_wait]
 13F  01144                      LOAD s1, 44[ascii_D]
 140  20074                      CALL 074[send_char_wait]
 141  01165                      LOAD s1, 65[ascii_e]
 142  20074                      CALL 074[send_char_wait]
 143  0116C                      LOAD s1, 6C[ascii_l]
 144  20074                      CALL 074[send_char_wait]
 145  01165                      LOAD s1, 65[ascii_e]
 146  20074                      CALL 074[send_char_wait]
 147  01174                      LOAD s1, 74[ascii_t]
 148  20074                      CALL 074[send_char_wait]
 149  01165                      LOAD s1, 65[ascii_e]
 14A  20074                      CALL 074[send_char_wait]
 14B  01120                      LOAD s1, 20[ascii_SPACE]
 14C  20074                      CALL 074[send_char_wait]
 14D  01161                      LOAD s1, 61[ascii_a]
 14E  20074                      CALL 074[send_char_wait]
 14F  01120                      LOAD s1, 20[ascii_SPACE]
 150  20074                      CALL 074[send_char_wait]
 151  0116D                      LOAD s1, 6D[ascii_m]
 152  20074                      CALL 074[send_char_wait]
 153  01165                      LOAD s1, 65[ascii_e]
 154  20074                      CALL 074[send_char_wait]
 155  01173                      LOAD s1, 73[ascii_s]
 156  20074                      CALL 074[send_char_wait]
 157  01173                      LOAD s1, 73[ascii_s]
 158  20074                      CALL 074[send_char_wait]
 159  01161                      LOAD s1, 61[ascii_a]
 15A  20074                      CALL 074[send_char_wait]
 15B  01167                      LOAD s1, 67[ascii_g]
 15C  20074                      CALL 074[send_char_wait]
 15D  01165                      LOAD s1, 65[ascii_e]
 15E  20074                      CALL 074[send_char_wait]
 15F  20079                      CALL 079[send_crlf]
 160                             ; "4. Delete all messages"
 160  01134                      LOAD s1, 34[ascii_4]
 161  20074                      CALL 074[send_char_wait]
 162  0112E                      LOAD s1, 2E[ascii_PERIOD]
 163  20074                      CALL 074[send_char_wait]
 164  01120                      LOAD s1, 20[ascii_SPACE]
 165  20074                      CALL 074[send_char_wait]
 166  01144                      LOAD s1, 44[ascii_D]
 167  20074                      CALL 074[send_char_wait]
 168  01165                      LOAD s1, 65[ascii_e]
 169  20074                      CALL 074[send_char_wait]
 16A  0116C                      LOAD s1, 6C[ascii_l]
 16B  20074                      CALL 074[send_char_wait]
 16C  01165                      LOAD s1, 65[ascii_e]
 16D  20074                      CALL 074[send_char_wait]
 16E  01174                      LOAD s1, 74[ascii_t]
 16F  20074                      CALL 074[send_char_wait]
 170  01165                      LOAD s1, 65[ascii_e]
 171  20074                      CALL 074[send_char_wait]
 172  01120                      LOAD s1, 20[ascii_SPACE]
 173  20074                      CALL 074[send_char_wait]
 174  01161                      LOAD s1, 61[ascii_a]
 175  20074                      CALL 074[send_char_wait]
 176  0116C                      LOAD s1, 6C[ascii_l]
 177  20074                      CALL 074[send_char_wait]
 178  0116C                      LOAD s1, 6C[ascii_l]
 179  20074                      CALL 074[send_char_wait]
 17A  01120                      LOAD s1, 20[ascii_SPACE]
 17B  20074                      CALL 074[send_char_wait]
 17C  0116D                      LOAD s1, 6D[ascii_m]
 17D  20074                      CALL 074[send_char_wait]
 17E  01165                      LOAD s1, 65[ascii_e]
 17F  20074                      CALL 074[send_char_wait]
 180  01173                      LOAD s1, 73[ascii_s]
 181  20074                      CALL 074[send_char_wait]
 182  01173                      LOAD s1, 73[ascii_s]
 183  20074                      CALL 074[send_char_wait]
 184  01161                      LOAD s1, 61[ascii_a]
 185  20074                      CALL 074[send_char_wait]
 186  01167                      LOAD s1, 67[ascii_g]
 187  20074                      CALL 074[send_char_wait]
 188  01165                      LOAD s1, 65[ascii_e]
 189  20074                      CALL 074[send_char_wait]
 18A  01173                      LOAD s1, 73[ascii_s]
 18B  20074                      CALL 074[send_char_wait]
 18C  20079                      CALL 079[send_crlf]
 18D                             ; "5. Volume control"
 18D  01135                      LOAD s1, 35[ascii_5]
 18E  20074                      CALL 074[send_char_wait]
 18F  0112E                      LOAD s1, 2E[ascii_PERIOD]
 190  20074                      CALL 074[send_char_wait]
 191  01120                      LOAD s1, 20[ascii_SPACE]
 192  20074                      CALL 074[send_char_wait]
 193  01156                      LOAD s1, 56[ascii_V]
 194  20074                      CALL 074[send_char_wait]
 195  0116F                      LOAD s1, 6F[ascii_o]
 196  20074                      CALL 074[send_char_wait]
 197  0116C                      LOAD s1, 6C[ascii_l]
 198  20074                      CALL 074[send_char_wait]
 199  01175                      LOAD s1, 75[ascii_u]
 19A  20074                      CALL 074[send_char_wait]
 19B  0116D                      LOAD s1, 6D[ascii_m]
 19C  20074                      CALL 074[send_char_wait]
 19D  01165                      LOAD s1, 65[ascii_e]
 19E  20074                      CALL 074[send_char_wait]
 19F  01120                      LOAD s1, 20[ascii_SPACE]
 1A0  20074                      CALL 074[send_char_wait]
 1A1  01163                      LOAD s1, 63[ascii_c]
 1A2  20074                      CALL 074[send_char_wait]
 1A3  0116F                      LOAD s1, 6F[ascii_o]
 1A4  20074                      CALL 074[send_char_wait]
 1A5  0116E                      LOAD s1, 6E[ascii_n]
 1A6  20074                      CALL 074[send_char_wait]
 1A7  01174                      LOAD s1, 74[ascii_t]
 1A8  20074                      CALL 074[send_char_wait]
 1A9  01172                      LOAD s1, 72[ascii_r]
 1AA  20074                      CALL 074[send_char_wait]
 1AB  0116F                      LOAD s1, 6F[ascii_o]
 1AC  20074                      CALL 074[send_char_wait]
 1AD  0116C                      LOAD s1, 6C[ascii_l]
 1AE  20074                      CALL 074[send_char_wait]
 1AF  20079                      CALL 079[send_crlf]
 1B0  20079                      CALL 079[send_crlf]
 1B1  25000                      RETURN 
 1B2                             ;----------------------------------------------------------------
 1B2             show_play_menu: 
 1B2  2007E                      CALL 07E[cls_term]
 1B3                             ; "Audio Library:"
 1B3  01141                      LOAD s1, 41[ascii_A]
 1B4  20074                      CALL 074[send_char_wait]
 1B5  01175                      LOAD s1, 75[ascii_u]
 1B6  20074                      CALL 074[send_char_wait]
 1B7  01164                      LOAD s1, 64[ascii_d]
 1B8  20074                      CALL 074[send_char_wait]
 1B9  01169                      LOAD s1, 69[ascii_i]
 1BA  20074                      CALL 074[send_char_wait]
 1BB  0116F                      LOAD s1, 6F[ascii_o]
 1BC  20074                      CALL 074[send_char_wait]
 1BD  01120                      LOAD s1, 20[ascii_SPACE]
 1BE  20074                      CALL 074[send_char_wait]
 1BF  0114C                      LOAD s1, 4C[ascii_L]
 1C0  20074                      CALL 074[send_char_wait]
 1C1  01169                      LOAD s1, 69[ascii_i]
 1C2  20074                      CALL 074[send_char_wait]
 1C3  01162                      LOAD s1, 62[ascii_b]
 1C4  20074                      CALL 074[send_char_wait]
 1C5  01172                      LOAD s1, 72[ascii_r]
 1C6  20074                      CALL 074[send_char_wait]
 1C7  01161                      LOAD s1, 61[ascii_a]
 1C8  20074                      CALL 074[send_char_wait]
 1C9  01172                      LOAD s1, 72[ascii_r]
 1CA  20074                      CALL 074[send_char_wait]
 1CB  01179                      LOAD s1, 79[ascii_y]
 1CC  20074                      CALL 074[send_char_wait]
 1CD  0113A                      LOAD s1, 3A[ascii_COLON]
 1CE  20074                      CALL 074[send_char_wait]
 1CF  20079                      CALL 079[send_crlf]
 1D0  20079                      CALL 079[send_crlf]
 1D1  01401                      LOAD s4, 01                      ; loop counter 1-5
 1D2               play_item_lp: 
 1D2  0112A                      LOAD s1, 2A[ascii_ASTERISK]      ; *
 1D3  20074                      CALL 074[send_char_wait]
 1D4  01120                      LOAD s1, 20[ascii_SPACE]
 1D5  20074                      CALL 074[send_char_wait]
 1D6  0114D                      LOAD s1, 4D[ascii_M]             ; M
 1D7  20074                      CALL 074[send_char_wait]
 1D8  01165                      LOAD s1, 65[ascii_e]             ; e
 1D9  20074                      CALL 074[send_char_wait]
 1DA  01173                      LOAD s1, 73[ascii_s]             ; s
 1DB  20074                      CALL 074[send_char_wait]
 1DC  01173                      LOAD s1, 73[ascii_s]             ; s
 1DD  20074                      CALL 074[send_char_wait]
 1DE  01161                      LOAD s1, 61[ascii_a]             ; a
 1DF  20074                      CALL 074[send_char_wait]
 1E0  01167                      LOAD s1, 67[ascii_g]             ; g
 1E1  20074                      CALL 074[send_char_wait]
 1E2  01165                      LOAD s1, 65[ascii_e]             ; e
 1E3  20074                      CALL 074[send_char_wait]
 1E4  01120                      LOAD s1, 20[ascii_SPACE]
 1E5  20074                      CALL 074[send_char_wait]
 1E6  00140                      LOAD s1, s4                      ; numeric 1-5 already in s4
 1E7  11130                      ADD s1, 30[ascii_0]              ; convert to ASCII
 1E8  20074                      CALL 074[send_char_wait]
 1E9  20079                      CALL 079[send_crlf]
 1EA  11401                      ADD s4, 01
 1EB  1D406                      COMPARE s4, 06
 1EC  361D2                      JUMP NZ, 1D2[play_item_lp]
 1ED  20079                      CALL 079[send_crlf]
 1EE  25000                      RETURN 
 1EF                             ;----------------------------------------------------------------
 1EF         show_record_screen: 
 1EF  2007E                      CALL 07E[cls_term]
 1F0                             ; "Recording... Press S to stop."
 1F0  01152                      LOAD s1, 52[ascii_R]
 1F1  20074                      CALL 074[send_char_wait]
 1F2  01165                      LOAD s1, 65[ascii_e]
 1F3  20074                      CALL 074[send_char_wait]
 1F4  01163                      LOAD s1, 63[ascii_c]
 1F5  20074                      CALL 074[send_char_wait]
 1F6  0116F                      LOAD s1, 6F[ascii_o]
 1F7  20074                      CALL 074[send_char_wait]
 1F8  01172                      LOAD s1, 72[ascii_r]
 1F9  20074                      CALL 074[send_char_wait]
 1FA  01164                      LOAD s1, 64[ascii_d]
 1FB  20074                      CALL 074[send_char_wait]
 1FC  01169                      LOAD s1, 69[ascii_i]
 1FD  20074                      CALL 074[send_char_wait]
 1FE  0116E                      LOAD s1, 6E[ascii_n]
 1FF  20074                      CALL 074[send_char_wait]
 200  01167                      LOAD s1, 67[ascii_g]
 201  20074                      CALL 074[send_char_wait]
 202  0112E                      LOAD s1, 2E[ascii_PERIOD]
 203  20074                      CALL 074[send_char_wait]
 204  0112E                      LOAD s1, 2E[ascii_PERIOD]
 205  20074                      CALL 074[send_char_wait]
 206  0112E                      LOAD s1, 2E[ascii_PERIOD]
 207  20074                      CALL 074[send_char_wait]
 208  01120                      LOAD s1, 20[ascii_SPACE]
 209  20074                      CALL 074[send_char_wait]
 20A  01150                      LOAD s1, 50[ascii_P]
 20B  20074                      CALL 074[send_char_wait]
 20C  01172                      LOAD s1, 72[ascii_r]
 20D  20074                      CALL 074[send_char_wait]
 20E  01165                      LOAD s1, 65[ascii_e]
 20F  20074                      CALL 074[send_char_wait]
 210  01173                      LOAD s1, 73[ascii_s]
 211  20074                      CALL 074[send_char_wait]
 212  01173                      LOAD s1, 73[ascii_s]
 213  20074                      CALL 074[send_char_wait]
 214  01120                      LOAD s1, 20[ascii_SPACE]
 215  20074                      CALL 074[send_char_wait]
 216  01153                      LOAD s1, 53[ascii_S]
 217  20074                      CALL 074[send_char_wait]
 218  01120                      LOAD s1, 20[ascii_SPACE]
 219  20074                      CALL 074[send_char_wait]
 21A  01174                      LOAD s1, 74[ascii_t]
 21B  20074                      CALL 074[send_char_wait]
 21C  0116F                      LOAD s1, 6F[ascii_o]
 21D  20074                      CALL 074[send_char_wait]
 21E  01120                      LOAD s1, 20[ascii_SPACE]
 21F  20074                      CALL 074[send_char_wait]
 220  01173                      LOAD s1, 73[ascii_s]
 221  20074                      CALL 074[send_char_wait]
 222  01174                      LOAD s1, 74[ascii_t]
 223  20074                      CALL 074[send_char_wait]
 224  0116F                      LOAD s1, 6F[ascii_o]
 225  20074                      CALL 074[send_char_wait]
 226  01170                      LOAD s1, 70[ascii_p]
 227  20074                      CALL 074[send_char_wait]
 228  0112E                      LOAD s1, 2E[ascii_PERIOD]
 229  20074                      CALL 074[send_char_wait]
 22A  20079                      CALL 079[send_crlf]
 22B  25000                      RETURN 
 22C           show_delete_menu: 
 22C  2007E                      CALL 07E[cls_term]
 22D                             ; "Delete Menu"
 22D  01144                      LOAD s1, 44[ascii_D]
 22E  20074                      CALL 074[send_char_wait]
 22F  01165                      LOAD s1, 65[ascii_e]
 230  20074                      CALL 074[send_char_wait]
 231  0116C                      LOAD s1, 6C[ascii_l]
 232  20074                      CALL 074[send_char_wait]
 233  01165                      LOAD s1, 65[ascii_e]
 234  20074                      CALL 074[send_char_wait]
 235  01174                      LOAD s1, 74[ascii_t]
 236  20074                      CALL 074[send_char_wait]
 237  01165                      LOAD s1, 65[ascii_e]
 238  20074                      CALL 074[send_char_wait]
 239  01120                      LOAD s1, 20[ascii_SPACE]
 23A  20074                      CALL 074[send_char_wait]
 23B  0114D                      LOAD s1, 4D[ascii_M]
 23C  20074                      CALL 074[send_char_wait]
 23D  01165                      LOAD s1, 65[ascii_e]
 23E  20074                      CALL 074[send_char_wait]
 23F  0116E                      LOAD s1, 6E[ascii_n]
 240  20074                      CALL 074[send_char_wait]
 241  01175                      LOAD s1, 75[ascii_u]
 242  20074                      CALL 074[send_char_wait]
 243  20079                      CALL 079[send_crlf]
 244  20079                      CALL 079[send_crlf]
 245  01401                      LOAD s4, 01                      ; loop counter 1-5
 246             delete_item_lp: 
 246  0112A                      LOAD s1, 2A[ascii_ASTERISK]      ; *
 247  20074                      CALL 074[send_char_wait]
 248  01120                      LOAD s1, 20[ascii_SPACE]
 249  20074                      CALL 074[send_char_wait]
 24A  0114D                      LOAD s1, 4D[ascii_M]             ; M
 24B  20074                      CALL 074[send_char_wait]
 24C  01165                      LOAD s1, 65[ascii_e]             ; e
 24D  20074                      CALL 074[send_char_wait]
 24E  01173                      LOAD s1, 73[ascii_s]             ; s
 24F  20074                      CALL 074[send_char_wait]
 250  01173                      LOAD s1, 73[ascii_s]             ; s
 251  20074                      CALL 074[send_char_wait]
 252  01161                      LOAD s1, 61[ascii_a]             ; a
 253  20074                      CALL 074[send_char_wait]
 254  01167                      LOAD s1, 67[ascii_g]             ; g
 255  20074                      CALL 074[send_char_wait]
 256  01165                      LOAD s1, 65[ascii_e]             ; e
 257  20074                      CALL 074[send_char_wait]
 258  01120                      LOAD s1, 20[ascii_SPACE]
 259  20074                      CALL 074[send_char_wait]
 25A  00140                      LOAD s1, s4                      ; numeric 1-5 already in s4
 25B  11130                      ADD s1, 30[ascii_0]              ; convert to ASCII
 25C  20074                      CALL 074[send_char_wait]
 25D  20079                      CALL 079[send_crlf]
 25E  11401                      ADD s4, 01
 25F  1D406                      COMPARE s4, 06
 260  36246                      JUMP NZ, 246[delete_item_lp]
 261  20079                      CALL 079[send_crlf]
 262  25000                      RETURN 
 263           show_confirm_all: 
 263  2007E                      CALL 07E[cls_term]
 264                             ; "Are you sure? Y/N"
 264  01141                      LOAD s1, 41[ascii_A]
 265  20074                      CALL 074[send_char_wait]
 266  01172                      LOAD s1, 72[ascii_r]
 267  20074                      CALL 074[send_char_wait]
 268  01165                      LOAD s1, 65[ascii_e]
 269  20074                      CALL 074[send_char_wait]
 26A  01120                      LOAD s1, 20[ascii_SPACE]
 26B  20074                      CALL 074[send_char_wait]
 26C  01179                      LOAD s1, 79[ascii_y]
 26D  20074                      CALL 074[send_char_wait]
 26E  0116F                      LOAD s1, 6F[ascii_o]
 26F  20074                      CALL 074[send_char_wait]
 270  01175                      LOAD s1, 75[ascii_u]
 271  20074                      CALL 074[send_char_wait]
 272  01120                      LOAD s1, 20[ascii_SPACE]
 273  20074                      CALL 074[send_char_wait]
 274  01173                      LOAD s1, 73[ascii_s]
 275  20074                      CALL 074[send_char_wait]
 276  01175                      LOAD s1, 75[ascii_u]
 277  20074                      CALL 074[send_char_wait]
 278  01172                      LOAD s1, 72[ascii_r]
 279  20074                      CALL 074[send_char_wait]
 27A  01165                      LOAD s1, 65[ascii_e]
 27B  20074                      CALL 074[send_char_wait]
 27C  0113F                      LOAD s1, 3F[ascii_QUESTION]
 27D  20074                      CALL 074[send_char_wait]
 27E  01120                      LOAD s1, 20[ascii_SPACE]
 27F  20074                      CALL 074[send_char_wait]
 280  01159                      LOAD s1, 59[ascii_Y]
 281  20074                      CALL 074[send_char_wait]
 282  0112F                      LOAD s1, 2F[ascii_FWDSLASH]
 283  20074                      CALL 074[send_char_wait]
 284  0114E                      LOAD s1, 4E[ascii_N]
 285  20074                      CALL 074[send_char_wait]
 286  20079                      CALL 079[send_crlf]
 287  25000                      RETURN 
 288           show_volume_menu: 
 288  2007E                      CALL 07E[cls_term]
 289                             ; "Volume [U or D]"
 289  01156                      LOAD s1, 56[ascii_V]
 28A  20074                      CALL 074[send_char_wait]
 28B  0116F                      LOAD s1, 6F[ascii_o]
 28C  20074                      CALL 074[send_char_wait]
 28D  0116C                      LOAD s1, 6C[ascii_l]
 28E  20074                      CALL 074[send_char_wait]
 28F  01175                      LOAD s1, 75[ascii_u]
 290  20074                      CALL 074[send_char_wait]
 291  0116D                      LOAD s1, 6D[ascii_m]
 292  20074                      CALL 074[send_char_wait]
 293  01165                      LOAD s1, 65[ascii_e]
 294  20074                      CALL 074[send_char_wait]
 295  01120                      LOAD s1, 20[ascii_SPACE]
 296  20074                      CALL 074[send_char_wait]
 297  0115B                      LOAD s1, 5B[ascii_LBKT]
 298  20074                      CALL 074[send_char_wait]
 299  01155                      LOAD s1, 55[ascii_U]
 29A  20074                      CALL 074[send_char_wait]
 29B  01120                      LOAD s1, 20[ascii_SPACE]
 29C  20074                      CALL 074[send_char_wait]
 29D  0116F                      LOAD s1, 6F[ascii_o]
 29E  20074                      CALL 074[send_char_wait]
 29F  01172                      LOAD s1, 72[ascii_r]
 2A0  20074                      CALL 074[send_char_wait]
 2A1  01120                      LOAD s1, 20[ascii_SPACE]
 2A2  20074                      CALL 074[send_char_wait]
 2A3  01144                      LOAD s1, 44[ascii_D]
 2A4  20074                      CALL 074[send_char_wait]
 2A5  0115C                      LOAD s1, 5C[ascii_RBKT]
 2A6  20074                      CALL 074[send_char_wait]
 2A7  01120                      LOAD s1, 20[ascii_SPACE]
 2A8  20074                      CALL 074[send_char_wait]
 2A9  20079                      CALL 079[send_crlf]
 2AA  20079                      CALL 079[send_crlf]
 2AB  25000                      RETURN 
 2AC                             ;================================================================
 2AC                             ;  PLAYBACK controls  (state 06)
 2AC                             ;================================================================
 2AC         show_play_controls: 
 2AC  2007E                      CALL 07E[cls_term]
 2AD                             ; "Play / Pause / Skip  (B back)"
 2AD  01150                      LOAD s1, 50[ascii_P]             ; P
 2AE  20074                      CALL 074[send_char_wait]
 2AF  0116C                      LOAD s1, 6C[ascii_l]             ; l
 2B0  20074                      CALL 074[send_char_wait]
 2B1  01161                      LOAD s1, 61[ascii_a]             ; a
 2B2  20074                      CALL 074[send_char_wait]
 2B3  01179                      LOAD s1, 79[ascii_y]             ; y
 2B4  20074                      CALL 074[send_char_wait]
 2B5  01120                      LOAD s1, 20[ascii_SPACE]
 2B6  20074                      CALL 074[send_char_wait]
 2B7  0112F                      LOAD s1, 2F[ascii_FWDSLASH]      ; /
 2B8  20074                      CALL 074[send_char_wait]
 2B9  01120                      LOAD s1, 20[ascii_SPACE]
 2BA  20074                      CALL 074[send_char_wait]
 2BB  01150                      LOAD s1, 50[ascii_P]             ; P
 2BC  20074                      CALL 074[send_char_wait]
 2BD  01161                      LOAD s1, 61[ascii_a]             ; a
 2BE  20074                      CALL 074[send_char_wait]
 2BF  01175                      LOAD s1, 75[ascii_u]             ; u
 2C0  20074                      CALL 074[send_char_wait]
 2C1  01173                      LOAD s1, 73[ascii_s]             ; s
 2C2  20074                      CALL 074[send_char_wait]
 2C3  01165                      LOAD s1, 65[ascii_e]             ; e
 2C4  20074                      CALL 074[send_char_wait]
 2C5  01120                      LOAD s1, 20[ascii_SPACE]
 2C6  20074                      CALL 074[send_char_wait]
 2C7  0112F                      LOAD s1, 2F[ascii_FWDSLASH]
 2C8  20074                      CALL 074[send_char_wait]
 2C9  01120                      LOAD s1, 20[ascii_SPACE]
 2CA  20074                      CALL 074[send_char_wait]
 2CB  01153                      LOAD s1, 53[ascii_S]             ; S
 2CC  20074                      CALL 074[send_char_wait]
 2CD  0116B                      LOAD s1, 6B[ascii_k]             ; k
 2CE  20074                      CALL 074[send_char_wait]
 2CF  01169                      LOAD s1, 69[ascii_i]             ; i
 2D0  20074                      CALL 074[send_char_wait]
 2D1  01170                      LOAD s1, 70[ascii_p]             ; p
 2D2  20074                      CALL 074[send_char_wait]
 2D3  01120                      LOAD s1, 20[ascii_SPACE]
 2D4  20074                      CALL 074[send_char_wait]
 2D5  01120                      LOAD s1, 20[ascii_SPACE]
 2D6  20074                      CALL 074[send_char_wait]
 2D7  0115B                      LOAD s1, 5B[ascii_LBKT]          ; [
 2D8  20074                      CALL 074[send_char_wait]
 2D9  01142                      LOAD s1, 42[ascii_B]             ; B
 2DA  20074                      CALL 074[send_char_wait]
 2DB  01120                      LOAD s1, 20[ascii_SPACE]
 2DC  20074                      CALL 074[send_char_wait]
 2DD  01162                      LOAD s1, 62[ascii_b]             ; b
 2DE  20074                      CALL 074[send_char_wait]
 2DF  01161                      LOAD s1, 61[ascii_a]             ; a
 2E0  20074                      CALL 074[send_char_wait]
 2E1  01163                      LOAD s1, 63[ascii_c]             ; c
 2E2  20074                      CALL 074[send_char_wait]
 2E3  0116B                      LOAD s1, 6B[ascii_k]             ; k
 2E4  20074                      CALL 074[send_char_wait]
 2E5  0115C                      LOAD s1, 5C[ascii_RBKT]          ; ]   (add if you have it; else omit)
 2E6  20074                      CALL 074[send_char_wait]
 2E7  20079                      CALL 079[send_crlf]
 2E8  25000                      RETURN 
 2E9             playback_state: 
 2E9  1D342                      COMPARE s3, 42[ascii_B]          ; back to list
 2EA  322F0                      JUMP Z, 2F0[pb_back]
 2EB  1D350                      COMPARE s3, 50[ascii_P]          ; pause / resume
 2EC  322FA                      JUMP Z, 2FA[stub_play_pause]
 2ED  1D353                      COMPARE s3, 53[ascii_S]          ; skip
 2EE  322FB                      JUMP Z, 2FB[stub_skip]
 2EF  25000                      RETURN 
 2F0                    pb_back: 
 2F0  01001                      LOAD s0, 01[st_PLAY]
 2F1  201B2                      CALL 1B2[show_play_menu]
 2F2  25000                      RETURN 
 2F3                             ;================================================================
 2F3                             ;  PLACEHOLDER ROUTINES
 2F3                             ;================================================================
 2F3  25000      stub_scroll_up: RETURN 
 2F4  25000      stub_scroll_dn: RETURN 
 2F5  25000       stub_play_msg: RETURN 
 2F6  25000     stub_delete_msg: RETURN 
 2F7  25000        stub_del_all: RETURN 
 2F8  25000         stub_vol_up: RETURN 
 2F9  25000         stub_vol_dn: RETURN 
 2FA  25000     stub_play_pause: RETURN 
 2FB  25000           stub_skip: RETURN 
 2FC                             ;================================================================
 2FC                             ;  END
 2FC                             ;================================================================


All unused memory locations contain zero (equivalent to 'LOAD s0, s0')



List of PSM files that have been assembled

Z:\Volumes\ise\FINAL ATTEMPTS\lab6 copy\loopback\picoblaze\program.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   19'd         
 timestamp_minutes 06'd         
 timestamp_seconds 47'd         
 datestamp_year    25'd         
 datestamp_month   5'd          
 datestamp_day     08'd         
 NUL               00           
 BEL               07           
 BS                08           
 HT                09           
 LF                0A           
 VT                0B           
 CR                0D           
 ESC               1B           
 DEL               7F           
 DCS               90           
 ST                9C           
 switches          00           program.psm
 leds              01           program.psm
 uart_data_rx      02           program.psm
 uart_data_tx      03           program.psm
 data_present      04           program.psm
 buffer_full       05           program.psm
 ascii_NUL         00           program.psm
 ascii_CR          0D           program.psm
 ascii_LF          0A           program.psm
 ascii_ESC         1B           program.psm
 ascii_SPACE       20           program.psm
 ascii_EXCLAIM     21           program.psm
 ascii_ASTERISK    2A           program.psm
 ascii_PLUS        2B           program.psm
 ascii_MINUS       2D           program.psm
 ascii_PERIOD      2E           program.psm
 ascii_FWDSLASH    2F           program.psm
 ascii_COLON       3A           program.psm
 ascii_QUESTION    3F           program.psm
 ascii_0           30           program.psm
 ascii_1           31           program.psm
 ascii_2           32           program.psm
 ascii_3           33           program.psm
 ascii_4           34           program.psm
 ascii_5           35           program.psm
 ascii_A           41           program.psm
 ascii_B           42           program.psm
 ascii_C           43           program.psm
 ascii_D           44           program.psm
 ascii_E           45           program.psm
 ascii_F           46           program.psm
 ascii_G           47           program.psm
 ascii_H           48           program.psm
 ascii_I           49           program.psm
 ascii_J           4A           program.psm
 ascii_K           4B           program.psm
 ascii_L           4C           program.psm
 ascii_M           4D           program.psm
 ascii_N           4E           program.psm
 ascii_O           4F           program.psm
 ascii_P           50           program.psm
 ascii_Q           51           program.psm
 ascii_R           52           program.psm
 ascii_S           53           program.psm
 ascii_T           54           program.psm
 ascii_U           55           program.psm
 ascii_V           56           program.psm
 ascii_W           57           program.psm
 ascii_X           58           program.psm
 ascii_Y           59           program.psm
 ascii_Z           5A           program.psm
 ascii_LBKT        5B           program.psm
 ascii_RBKT        5C           program.psm
 ascii_a           61           program.psm
 ascii_b           62           program.psm
 ascii_c           63           program.psm
 ascii_d           64           program.psm
 ascii_e           65           program.psm
 ascii_f           66           program.psm
 ascii_g           67           program.psm
 ascii_h           68           program.psm
 ascii_i           69           program.psm
 ascii_j           6A           program.psm
 ascii_k           6B           program.psm
 ascii_l           6C           program.psm
 ascii_m           6D           program.psm
 ascii_n           6E           program.psm
 ascii_o           6F           program.psm
 ascii_p           70           program.psm
 ascii_q           71           program.psm
 ascii_r           72           program.psm
 ascii_s           73           program.psm
 ascii_t           74           program.psm
 ascii_u           75           program.psm
 ascii_v           76           program.psm
 ascii_w           77           program.psm
 ascii_x           78           program.psm
 ascii_y           79           program.psm
 ascii_z           7A           program.psm
 ascii_lc_after_z  7B           program.psm
 st_MAIN           00           program.psm
 st_PLAY           01           program.psm
 st_RECORDING      02           program.psm
 st_DELETE         03           program.psm
 st_CONFIRM_ALL    04           program.psm
 st_VOLUME         05           program.psm
 st_PLAYBACK       06           program.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.70"        
 datestamp$        "08 May 2025"  
 timestamp$        "19:06:47"     



List of line labels

   Label                Addr  Source PSM File

 * start                000   program.psm
   main_loop            002   program.psm
   uart_poll            004   program.psm
   dispatch             00E   program.psm
   uart_done            01C   program.psm
   main_state           01D   program.psm
   go_play              028   program.psm
   go_record            02B   program.psm
   go_delete            02E   program.psm
   go_delall            031   program.psm
   go_volume            034   program.psm
   play_state           037   program.psm
   play_enter_msg       044   program.psm
   play_back            047   program.psm
   rec_state            04A   program.psm
   rec_stop             04D   program.psm
   del_state            050   program.psm
   del_back             05D   program.psm
   conf_state           060   program.psm
   conf_yes             065   program.psm
   conf_no              066   program.psm
   vol_state            069   program.psm
   vol_back             070   program.psm
   echo_char            073   program.psm
   send_char_wait       074   program.psm
   send_crlf            079   program.psm
   cls_term             07E   program.psm
   show_main_menu       08D   program.psm
   show_play_menu       1B2   program.psm
   play_item_lp         1D2   program.psm
   show_record_screen   1EF   program.psm
   show_delete_menu     22C   program.psm
   delete_item_lp       246   program.psm
   show_confirm_all     263   program.psm
   show_volume_menu     288   program.psm
   show_play_controls   2AC   program.psm
   playback_state       2E9   program.psm
   pb_back              2F0   program.psm
 * stub_scroll_up       2F3   program.psm
 * stub_scroll_dn       2F4   program.psm
 * stub_play_msg        2F5   program.psm
 * stub_delete_msg      2F6   program.psm
   stub_del_all         2F7   program.psm
   stub_vol_up          2F8   program.psm
   stub_vol_dn          2F9   program.psm
   stub_play_pause      2FA   program.psm
   stub_skip            2FB   program.psm

      * Line label has not been referenced in any instructions.
        Hint - This may indicate unused code that could be
               removed to reduce the size of this program.



Instruction usage statistics

 Instruction    Instances

 LOAD            304
 STAR              -

 AND               -
 OR                -
 XOR               -

 ADD               4
 ADDCY             -
 SUB               1
 SUBCY             -

 TEST              2
 TESTCY            -
 COMPARE          37
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               -
 SRA               -
 RR                -

 REGBANK           -

 INPUT             3
 OUTPUT            1
 OUTPUTK           -

 STORE             -
 FETCH             -

 DISABLE           -
 ENABLE            -
 RETURNI           -

 JUMP             40
 JUMP@             -
 CALL            333
 CALL@             -
 RETURN           39
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
